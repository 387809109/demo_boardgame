# é¡¹ç›®å¼€å‘è§„èŒƒ - Development Rules

æœ¬ç›®å½•åŒ…å«æ¡Œæ¸¸é›†æˆå®¢æˆ·ç«¯é¡¹ç›®çš„æ‰€æœ‰å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µã€‚

## ğŸ“š æ–‡æ¡£åˆ—è¡¨

### 1. [DEVELOPMENT_PRINCIPLES.md](./DEVELOPMENT_PRINCIPLES.md)
**æ ¸å¿ƒå¼€å‘åŸåˆ™**

è¯¦ç»†è¯´æ˜é¡¹ç›®éµå¾ªçš„ä¸‰å¤§æ ¸å¿ƒåŸåˆ™ï¼š
- **SOLID åŸåˆ™**ï¼šé¢å‘å¯¹è±¡è®¾è®¡çš„äº”å¤§åŸåˆ™
  - å•ä¸€èŒè´£åŸåˆ™ (SRP)
  - å¼€é—­åŸåˆ™ (OCP)
  - é‡Œæ°æ›¿æ¢åŸåˆ™ (LSP)
  - æ¥å£éš”ç¦»åŸåˆ™ (ISP)
  - ä¾èµ–å€’ç½®åŸåˆ™ (DIP)
- **DRY åŸåˆ™**ï¼šé¿å…ä»£ç é‡å¤
- **KISS åŸåˆ™**ï¼šä¿æŒç®€å•

åŒ…å«å¤§é‡å®é™…ä»£ç ç¤ºä¾‹å’Œé¡¹ç›®ç‰¹å®šçš„å®è·µæŒ‡å—ã€‚

### 2. [CODE_STYLE_GUIDE.md](./CODE_STYLE_GUIDE.md)
**ä»£ç é£æ ¼æŒ‡å—**

è§„èŒƒä»£ç çš„ç¼–å†™æ ¼å¼å’Œé£æ ¼ï¼š
- å‘½åè§„èŒƒï¼ˆç±»ã€å‡½æ•°ã€å˜é‡ç­‰ï¼‰
- æ–‡ä»¶ç»„ç»‡ç»“æ„
- ä»£ç æ ¼å¼ï¼ˆç¼©è¿›ã€ç©ºæ ¼ã€æ¢è¡Œç­‰ï¼‰
- æ³¨é‡Šè§„èŒƒ
- é”™è¯¯å¤„ç†æ¨¡å¼
- TypeScript ç‰¹å®šè§„èŒƒ

---

## ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦è¿™äº›è§„èŒƒï¼Ÿ

### 1. ä»£ç ä¸€è‡´æ€§
ç»Ÿä¸€çš„ç¼–ç é£æ ¼è®©å›¢é˜Ÿæˆå‘˜èƒ½å¤Ÿï¼š
- å¿«é€Ÿç†è§£ä»–äººç¼–å†™çš„ä»£ç 
- å‡å°‘ä»£ç å®¡æŸ¥æ—¶çš„æ‘©æ“¦
- é™ä½ç»´æŠ¤æˆæœ¬

### 2. å¯ç»´æŠ¤æ€§
éµå¾ª SOLID å’Œ DRY åŸåˆ™çš„ä»£ç ï¼š
- æ˜“äºç†è§£å’Œä¿®æ”¹
- å‡å°‘ bug çš„äº§ç”Ÿ
- ä¾¿äºé‡æ„å’Œä¼˜åŒ–

### 3. å¯æ‰©å±•æ€§
è‰¯å¥½çš„æ¶æ„è®¾è®¡ä½¿å¾—ï¼š
- æ·»åŠ æ–°æ¸¸æˆæ›´å®¹æ˜“
- åŠŸèƒ½æ‰©å±•ä¸å½±å“ç°æœ‰ä»£ç 
- æ’ä»¶åŒ–å¼€å‘æˆä¸ºå¯èƒ½

### 4. å›¢é˜Ÿåä½œ
æ˜ç¡®çš„è§„èŒƒæœ‰åŠ©äºï¼š
- æ–°æˆå‘˜å¿«é€Ÿä¸Šæ‰‹
- å‡å°‘æ²Ÿé€šæˆæœ¬
- æé«˜å¼€å‘æ•ˆç‡

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ¬¡é˜…è¯»
å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡å‚ä¸é¡¹ç›®å¼€å‘ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºé˜…è¯»ï¼š

1. **å…ˆé˜…è¯»æœ¬æ–‡æ¡£ï¼ˆREADME.mdï¼‰** - äº†è§£æ•´ä½“æ¦‚å†µ
2. **ç„¶åé˜…è¯» KISS åŸåˆ™éƒ¨åˆ†** - ç†è§£"ç®€å•ä¼˜å…ˆ"çš„æ€æƒ³
3. **æµè§ˆä»£ç é£æ ¼æŒ‡å—** - ç†Ÿæ‚‰åŸºæœ¬çš„å‘½åå’Œæ ¼å¼è§„èŒƒ
4. **æ·±å…¥å­¦ä¹  SOLID åŸåˆ™** - ç†è§£é¢å‘å¯¹è±¡è®¾è®¡çš„æ ¸å¿ƒæ€æƒ³
5. **å®è·µ DRY åŸåˆ™** - åœ¨ç¼–ç è¿‡ç¨‹ä¸­é¿å…é‡å¤

### æ—¥å¸¸å¼€å‘
åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼š

1. **ç¼–ç å‰**ï¼šæ€è€ƒå¦‚ä½•åº”ç”¨ SOLID å’Œ KISS åŸåˆ™
2. **ç¼–ç ä¸­**ï¼šéµå¾ªä»£ç é£æ ¼æŒ‡å—
3. **ç¼–ç å**ï¼šä½¿ç”¨æ£€æŸ¥æ¸…å•è¿›è¡Œè‡ªæŸ¥
4. **æäº¤å‰**ï¼šç¡®ä¿ä»£ç ç¬¦åˆæ‰€æœ‰è§„èŒƒ

---

## ğŸ“‹ ä»£ç å®¡æŸ¥æ£€æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®ä¿é€šè¿‡ä»¥ä¸‹æ£€æŸ¥ï¼š

### æ¶æ„å’Œè®¾è®¡
- [ ] ä»£ç éµå¾ª SOLID åŸåˆ™
- [ ] æ²¡æœ‰é‡å¤çš„é€»è¾‘ï¼ˆDRYï¼‰
- [ ] ä¿æŒç®€å•ï¼Œé¿å…è¿‡åº¦è®¾è®¡ï¼ˆKISSï¼‰
- [ ] æ–°åŠŸèƒ½é€šè¿‡æ‰©å±•å®ç°ï¼Œè€Œéä¿®æ”¹ç°æœ‰ä»£ç 

### ä»£ç é£æ ¼
- [ ] å‘½åè§„èŒƒæ­£ç¡®ï¼ˆç±»ã€å‡½æ•°ã€å˜é‡ï¼‰
- [ ] ä»£ç æ ¼å¼ç¬¦åˆè§„èŒƒï¼ˆç¼©è¿›ã€ç©ºæ ¼ã€æ¢è¡Œï¼‰
- [ ] å…¬å…± API æœ‰å®Œæ•´çš„æ³¨é‡Š
- [ ] æ–‡ä»¶ç»„ç»‡ç»“æ„åˆç†

### TypeScript
- [ ] ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
- [ ] å…¬å…± API æœ‰æ˜ç¡®çš„ç±»å‹æ³¨è§£
- [ ] é¿å…ä½¿ç”¨ `any` ç±»å‹
- [ ] æ­£ç¡®å¤„ç† `null` å’Œ `undefined`

### é”™è¯¯å¤„ç†
- [ ] ä¸åæ‰é”™è¯¯
- [ ] ä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯ç±»å‹
- [ ] é”™è¯¯ä¿¡æ¯æ¸…æ™°æœ‰ç”¨
- [ ] å¼‚æ­¥æ“ä½œæ­£ç¡®å¤„ç†é”™è¯¯

### æµ‹è¯•
- [ ] ç¼–å†™äº†å¿…è¦çš„å•å…ƒæµ‹è¯•
- [ ] æµ‹è¯•è¦†ç›–å…³é”®é€»è¾‘
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

## ğŸ› ï¸ å¼€å‘å·¥å…·é…ç½®

### æ¨èçš„ç¼–è¾‘å™¨é…ç½®

#### VSCode
å®‰è£…ä»¥ä¸‹æ‰©å±•ï¼š
- ESLint
- Prettier
- TypeScript Hero
- Error Lens

é…ç½®æ–‡ä»¶ `.vscode/settings.json`ï¼š
```json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "typescript.preferences.importModuleSpecifier": "relative"
}
```

### ä»£ç æ£€æŸ¥å·¥å…·

#### ESLint
```bash
npm install --save-dev eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin
```

#### Prettier
```bash
npm install --save-dev prettier eslint-config-prettier eslint-plugin-prettier
```

#### è¿è¡Œæ£€æŸ¥
```bash
# æ£€æŸ¥ä»£ç é£æ ¼
npm run lint

# è‡ªåŠ¨ä¿®å¤
npm run lint:fix

# æ ¼å¼åŒ–ä»£ç 
npm run format
```

---

## ğŸ“– å®è·µç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šæ·»åŠ æ–°æ¸¸æˆ

éµå¾ª SOLID å’Œ KISS åŸåˆ™æ·»åŠ æ–°æ¸¸æˆï¼š

```typescript
// 1. å®šä¹‰æ¸¸æˆæ¥å£ï¼ˆå¼€é—­åŸåˆ™ï¼‰
interface BoardGame {
  initialize(config: GameConfig): GameState;
  processMove(move: Move, state: GameState): GameState;
  checkGameEnd(state: GameState): boolean;
}

// 2. å®ç°å…·ä½“æ¸¸æˆï¼ˆå•ä¸€èŒè´£ï¼‰
class PokerGame implements BoardGame {
  initialize(config: GameConfig): GameState {
    // ç®€å•ç›´æ¥çš„åˆå§‹åŒ–ï¼ˆKISSï¼‰
    return {
      deck: this.createDeck(),
      players: config.players,
      currentPlayer: 0
    };
  }

  processMove(move: Move, state: GameState): GameState {
    // éªŒè¯ç§»åŠ¨
    if (!this.isValidMove(move, state)) {
      throw new GameError('Invalid move');
    }

    // æ‰§è¡Œç§»åŠ¨
    return this.executeMove(move, state);
  }

  checkGameEnd(state: GameState): boolean {
    return state.winner !== null;
  }

  // ç§æœ‰è¾…åŠ©æ–¹æ³•ï¼ˆå•ä¸€èŒè´£ï¼‰
  private createDeck(): Card[] {
    // åˆ›å»ºæ‰‘å…‹ç‰Œ
  }

  private isValidMove(move: Move, state: GameState): boolean {
    // éªŒè¯é€»è¾‘
  }

  private executeMove(move: Move, state: GameState): GameState {
    // æ‰§è¡Œé€»è¾‘
  }
}
```

### ç¤ºä¾‹ 2ï¼šå¤ç”¨å…¬å…±é€»è¾‘

éµå¾ª DRY åŸåˆ™é¿å…é‡å¤ï¼š

```typescript
// ä¸è¦åœ¨æ¯ä¸ªæ¸¸æˆä¸­é‡å¤éªŒè¯é€»è¾‘
// âŒ é”™è¯¯
class UNOGame {
  processMove(move: Move) {
    if (!move) throw new Error('Move required');
    if (!move.player) throw new Error('Player required');
    // ... æ¸¸æˆé€»è¾‘
  }
}

class PokerGame {
  processMove(move: Move) {
    if (!move) throw new Error('Move required');
    if (!move.player) throw new Error('Player required');
    // ... æ¸¸æˆé€»è¾‘
  }
}

// âœ… æ­£ç¡® - æå–å…¬å…±éªŒè¯
class MoveValidator {
  static validate(move: Move): void {
    if (!move) throw new ValidationError('Move required');
    if (!move.player) throw new ValidationError('Player required');
  }
}

class UNOGame {
  processMove(move: Move) {
    MoveValidator.validate(move);
    // ... æ¸¸æˆé€»è¾‘
  }
}

class PokerGame {
  processMove(move: Move) {
    MoveValidator.validate(move);
    // ... æ¸¸æˆé€»è¾‘
  }
}
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### æäº¤ä»£ç æµç¨‹

1. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/your-feature-name
   ```

2. **ç¼–å†™ä»£ç **
   - éµå¾ªæ‰€æœ‰å¼€å‘è§„èŒƒ
   - ç¼–å†™å¿…è¦çš„æµ‹è¯•
   - æ·»åŠ é€‚å½“çš„æ³¨é‡Š

3. **è‡ªæŸ¥**
   - ä½¿ç”¨æ£€æŸ¥æ¸…å•è‡ªæŸ¥
   - è¿è¡Œæ‰€æœ‰æµ‹è¯•
   - è¿è¡Œä»£ç æ£€æŸ¥å·¥å…·

4. **æäº¤ä»£ç **
   ```bash
   git add .
   git commit -m "feat: add new feature"
   ```

5. **æ¨é€å¹¶åˆ›å»º PR**
   ```bash
   git push origin feature/your-feature-name
   ```

### Commit æ¶ˆæ¯è§„èŒƒ

ä½¿ç”¨è¯­ä¹‰åŒ–çš„ commit æ¶ˆæ¯ï¼š

```
feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç é£æ ¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
refactor: ä»£ç é‡æ„
test: æ·»åŠ æµ‹è¯•
chore: æ„å»ºé…ç½®æˆ–è¾…åŠ©å·¥å…·å˜åŠ¨
```

ç¤ºä¾‹ï¼š
```
feat: add Poker game implementation
fix: resolve network timeout issue
docs: update API documentation
refactor: simplify card shuffling algorithm
```

---

## ğŸ“š å­¦ä¹ èµ„æº

### SOLID åŸåˆ™
- [SOLID Principles Explained](https://www.digitalocean.com/community/conceptual_articles/s-o-l-i-d-the-first-five-principles-of-object-oriented-design)
- [Clean Code by Robert C. Martin](https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882)

### TypeScript
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/docs/)
- [TypeScript Deep Dive](https://basarat.gitbook.io/typescript/)

### è®¾è®¡æ¨¡å¼
- [Design Patterns: Elements of Reusable Object-Oriented Software](https://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612)
- [Refactoring Guru](https://refactoring.guru/design-patterns)

---

## â“ FAQ

### Q: è§„èŒƒæ˜¯å¼ºåˆ¶çš„å—ï¼Ÿ
A: æ˜¯çš„ã€‚è¿™äº›è§„èŒƒæ˜¯ä¸ºäº†ä¿è¯ä»£ç è´¨é‡å’Œå›¢é˜Ÿåä½œæ•ˆç‡ã€‚æ‰€æœ‰æäº¤çš„ä»£ç éƒ½åº”è¯¥éµå¾ªè¿™äº›è§„èŒƒã€‚

### Q: å¦‚æœè§„èŒƒä¸å®é™…æƒ…å†µå†²çªæ€ä¹ˆåŠï¼Ÿ
A: è§„èŒƒæ˜¯æŒ‡å¯¼è€Œéæ•™æ¡ã€‚å¦‚æœé‡åˆ°ç‰¹æ®Šæƒ…å†µï¼Œå¯ä»¥åœ¨ä»£ç å®¡æŸ¥æ—¶è®¨è®ºã€‚ä½†éœ€è¦åœ¨æ³¨é‡Šä¸­è¯´æ˜ä¸ºä»€ä¹ˆéœ€è¦åç¦»è§„èŒƒã€‚

### Q: å¦‚ä½•å»ºè®®ä¿®æ”¹è§„èŒƒï¼Ÿ
A: æ¬¢è¿æå‡ºæ”¹è¿›å»ºè®®ï¼å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š
1. åœ¨å›¢é˜Ÿä¼šè®®ä¸Šè®¨è®º
2. åˆ›å»º Issue è¯´æ˜é—®é¢˜å’Œå»ºè®®
3. æäº¤ PR ä¿®æ”¹è§„èŒƒæ–‡æ¡£

### Q: æ—§ä»£ç ä¸ç¬¦åˆè§„èŒƒæ€ä¹ˆåŠï¼Ÿ
A: éµå¾ª"ç«¥å­å†›è§„åˆ™"ï¼šè®©ä»£ç æ¯”ä½ å‘ç°æ—¶æ›´å¥½ä¸€ç‚¹ã€‚åœ¨ä¿®æ”¹æ—§ä»£ç æ—¶ï¼Œé¡ºä¾¿è®©å®ƒç¬¦åˆè§„èŒƒã€‚ä½†ä¸è¦ä¸ºäº†è§„èŒƒè€Œå¤§è§„æ¨¡é‡æ„ç¨³å®šçš„ä»£ç ã€‚

---

## ğŸ“ æ€»ç»“

è¿™äº›è§„èŒƒçš„ç›®æ ‡æ˜¯ï¼š
- âœ… æé«˜ä»£ç è´¨é‡
- âœ… å¢å¼ºå¯ç»´æŠ¤æ€§
- âœ… ä¿ƒè¿›å›¢é˜Ÿåä½œ
- âœ… åŠ å¿«å¼€å‘é€Ÿåº¦

è®°ä½ï¼š**å¥½çš„ä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œé¡ºä¾¿è®©æœºå™¨æ‰§è¡Œã€‚**

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿è®¨è®ºï¼
